# è‡ªå‹•éƒ¨ç½²æŒ‡å—

## âœ… è‡ªå‹•éƒ¨ç½²å·²å•Ÿç”¨

å°ˆæ¡ˆå·²é…ç½® GitHub Actionsï¼Œç•¶æ‚¨æ¨é€ä»£ç¢¼åˆ° `main` æˆ– `master` åˆ†æ”¯æ™‚ï¼Œæœƒè‡ªå‹•è§¸ç™¼éƒ¨ç½²æµç¨‹ã€‚

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### è§¸ç™¼æ¢ä»¶

1. **è‡ªå‹•è§¸ç™¼**
   - æ¨é€ä»£ç¢¼åˆ° `main` æˆ– `master` åˆ†æ”¯
   - åˆä½µ Pull Request åˆ° `main` æˆ– `master` åˆ†æ”¯

2. **æ‰‹å‹•è§¸ç™¼**
   - å‰å¾€ GitHub â†’ Actions â†’ Deploy to Cloudflare
   - é»æ“Š "Run workflow"

### éƒ¨ç½²æ­¥é©Ÿ

éƒ¨ç½²æœƒä¾åºåŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼š

1. **Deploy Workerï¼ˆå¾Œç«¯ï¼‰**
   - å®‰è£ Worker ä¾è³´
   - éƒ¨ç½²åˆ° Cloudflare Workers

2. **Deploy Frontendï¼ˆå‰ç«¯ï¼‰**
   - ç­‰å¾… Worker éƒ¨ç½²å®Œæˆ
   - å‰µå»º `.env.production` æª”æ¡ˆ
   - å®‰è£å‰ç«¯ä¾è³´
   - å»ºç½®å‰ç«¯æ‡‰ç”¨
   - éƒ¨ç½²åˆ° Cloudflare Pages

---

## ğŸ“‹ éœ€è¦çš„ GitHub Secrets

ç¢ºä¿ä»¥ä¸‹ Secrets å·²è¨­å®šåœ¨ GitHub Repository Settings â†’ Secrets and variables â†’ Actionsï¼š

### å¿…é ˆçš„ Secrets

| Secret åç¨± | èªªæ˜ | æ˜¯å¦è¨­å®šï¼Ÿ |
|------------|------|----------|
| `CLOUDFLARE_API_TOKEN` | Cloudflare API Token | âš ï¸ éœ€è¦ç¢ºèª |
| `CLOUDFLARE_ACCOUNT_ID` | Cloudflare Account ID | âš ï¸ éœ€è¦ç¢ºèª |
| `VITE_API_BASE_URL` | API åŸºç¤ URL | âš ï¸ éœ€è¦ç¢ºèª |
| `VITE_ADMIN_API_KEY` | ç®¡ç†å“¡ API Key | âš ï¸ éœ€è¦ç¢ºèª |
| `VITE_LINE_LIFF_ID` | LINE LIFF ID | âš ï¸ éœ€è¦ç¢ºèª |
| `VITE_LINE_CHANNEL_ID` | LINE Channel ID | âš ï¸ éœ€è¦ç¢ºèª |

### è‡ªå‹•æä¾›çš„ Secrets

- `GITHUB_TOKEN` - GitHub è‡ªå‹•æä¾›ï¼Œç„¡éœ€è¨­å®š

---

## ğŸ”§ è¨­å®š GitHub Secrets

### æ­¥é©Ÿ 1: é€²å…¥ Secrets è¨­å®šé é¢

1. å‰å¾€ GitHub Repository
2. é»æ“Š **Settings** æ¨™ç±¤
3. å·¦å´é¸å–® â†’ **Secrets and variables** â†’ **Actions**
4. é»æ“Š **New repository secret**

### æ­¥é©Ÿ 2: æ–°å¢æ¯å€‹ Secret

å°æ¯å€‹ Secret åŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **Name**: è¼¸å…¥ Secret åç¨±ï¼ˆä¾‹å¦‚ `CLOUDFLARE_API_TOKEN`ï¼‰
2. **Secret**: è¼¸å…¥å°æ‡‰çš„å€¼
3. é»æ“Š **Add secret**

### æ­¥é©Ÿ 3: ç¢ºèªæ‰€æœ‰ Secrets å·²è¨­å®š

æª¢æŸ¥ Secrets åˆ—è¡¨ï¼Œç¢ºèªä¸Šè¿°å…­å€‹ Secrets éƒ½å·²è¨­å®šã€‚

---

## ğŸ“Š æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹

### æ–¹æ³• 1: GitHub Actions

1. å‰å¾€ GitHub Repository
2. é»æ“Š **Actions** æ¨™ç±¤
3. é¸æ“‡æœ€è¿‘çš„ workflow run
4. æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹

### æ–¹æ³• 2: Cloudflare Dashboard

1. å‰å¾€ Cloudflare Dashboard
2. **Workers & Pages** â†’ **Pages** â†’ **booking-manager**
3. æŸ¥çœ‹ **Deployments** æ¨™ç±¤

---

## âš ï¸ å¸¸è¦‹å•é¡Œ

### å•é¡Œ 1: éƒ¨ç½²å¤±æ•— - æ‰¾ä¸åˆ° Secret

**åŸå› **: GitHub Secret æœªè¨­å®šæˆ–åç¨±éŒ¯èª¤

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥ GitHub Secrets æ˜¯å¦æ­£ç¢ºè¨­å®š
2. ç¢ºèª Secret åç¨±èˆ‡ workflow ä¸­ä½¿ç”¨çš„åç¨±å®Œå…¨ä¸€è‡´ï¼ˆå€åˆ†å¤§å°å¯«ï¼‰

### å•é¡Œ 2: Worker éƒ¨ç½²å¤±æ•—

**åŸå› **: 
- Cloudflare API Token æ¬Šé™ä¸è¶³
- Worker é…ç½®éŒ¯èª¤

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥ Cloudflare API Token æ˜¯å¦æœ‰æ­£ç¢ºæ¬Šé™
2. æŸ¥çœ‹ Worker éƒ¨ç½²æ—¥èªŒä»¥ç²å–è©³ç´°éŒ¯èª¤è³‡è¨Š

### å•é¡Œ 3: Frontend éƒ¨ç½²å¤±æ•—

**åŸå› **:
- å»ºç½®å¤±æ•—
- ç’°å¢ƒè®Šæ•¸æœªè¨­å®š

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥å»ºç½®æ—¥èªŒä¸­çš„éŒ¯èª¤è¨Šæ¯
2. ç¢ºèªæ‰€æœ‰ GitHub Secrets å·²è¨­å®š
3. ç¢ºèª Cloudflare Pages ç’°å¢ƒè®Šæ•¸ä¹Ÿå·²è¨­å®šï¼ˆä½œç‚ºå‚™ç”¨ï¼‰

---

## ğŸ¯ éƒ¨ç½²æª¢æŸ¥æ¸…å–®

åœ¨æ¨é€ä»£ç¢¼å‰ï¼Œç¢ºèªï¼š

- [ ] æ‰€æœ‰è®Šæ›´å·²æäº¤ä¸¦æ¨é€åˆ° `main` æˆ– `master` åˆ†æ”¯
- [ ] GitHub Secrets å·²æ­£ç¢ºè¨­å®š
- [ ] Cloudflare Pages ç’°å¢ƒè®Šæ•¸å·²è¨­å®šï¼ˆProduction ç’°å¢ƒï¼‰
- [ ] æœ¬åœ°æ¸¬è©¦é€šéï¼ˆ`npm run build` æˆåŠŸï¼‰

---

## ğŸ”„ æ‰‹å‹•è§¸ç™¼éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹å‹•è§¸ç™¼éƒ¨ç½²ï¼š

1. å‰å¾€ GitHub â†’ **Actions**
2. é¸æ“‡ **Deploy to Cloudflare** workflow
3. é»æ“Š **Run workflow**
4. é¸æ“‡åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ `main`ï¼‰
5. é»æ“Š **Run workflow**

---

## ğŸ“ æ³¨æ„äº‹é …

1. **éƒ¨ç½²æ™‚é–“**: é€šå¸¸éœ€è¦ 2-5 åˆ†é˜å®Œæˆæ•´å€‹éƒ¨ç½²æµç¨‹
2. **ä¸¦è¡Œé™åˆ¶**: Worker å’Œ Frontend éƒ¨ç½²æœƒä¾åºåŸ·è¡Œï¼ˆFrontend ç­‰å¾… Worker å®Œæˆï¼‰
3. **å¿½ç•¥æª”æ¡ˆ**: `.md` æª”æ¡ˆè®Šæ›´ä¸æœƒè§¸ç™¼éƒ¨ç½²ï¼ˆæ¸›å°‘ä¸å¿…è¦çš„éƒ¨ç½²ï¼‰
4. **ç’°å¢ƒè®Šæ•¸**: ç¢ºä¿ GitHub Secrets å’Œ Cloudflare Pages ç’°å¢ƒè®Šæ•¸éƒ½æ­£ç¢ºè¨­å®š

---

## âœ… éƒ¨ç½²æˆåŠŸå¾Œ

éƒ¨ç½²æˆåŠŸå¾Œï¼š

1. **ç­‰å¾… 1-2 åˆ†é˜** è®“ Cloudflare å®Œæˆ CDN æ›´æ–°
2. **æ¸…é™¤ç€è¦½å™¨å¿«å–** æˆ–ä½¿ç”¨ç„¡ç—•æ¨¡å¼æ¸¬è©¦
3. **æª¢æŸ¥åŠŸèƒ½**: æ¸¬è©¦ LINE ç™»å…¥ã€è¨‚æˆ¿æµç¨‹ç­‰é—œéµåŠŸèƒ½

---

## ğŸ†˜ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœéƒ¨ç½²é‡åˆ°å•é¡Œï¼š

1. æŸ¥çœ‹ GitHub Actions æ—¥èªŒ
2. æª¢æŸ¥ Cloudflare Dashboard çš„éƒ¨ç½²è¨˜éŒ„
3. ç¢ºèªæ‰€æœ‰ç’°å¢ƒè®Šæ•¸å’Œ Secrets éƒ½å·²æ­£ç¢ºè¨­å®š

